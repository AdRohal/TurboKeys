{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{userAPI,typingAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{var _user$username;const{user}=useAuth();const[userTests,setUserTests]=useState([]);const[userStats,setUserStats]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const loadProfileData=async()=>{try{const[tests,stats]=await Promise.all([typingAPI.getUserTests(10),userAPI.getUserStats()]);setUserTests(tests);setUserStats(stats);}catch(error){console.error('Failed to load profile data:',error);}finally{setLoading(false);}};if(user){loadProfileData();}},[user]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xl font-bold\",children:user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.charAt(0).toUpperCase()})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-gray-100\",children:user===null||user===void 0?void 0:user.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:user===null||user===void 0?void 0:user.email})]})]})}),userStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-primary-600 mb-2\",children:userStats.averageWpm||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Average WPM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-green-600 mb-2\",children:[userStats.averageAccuracy||0,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Average Accuracy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-2\",children:userStats.testsCompleted||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Tests Completed\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4\",children:\"Recent Tests\"}),userTests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Mode\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"WPM\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Accuracy\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\",children:\"Errors\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userTests.map(test=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-100 dark:border-gray-800\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-sm text-gray-900 dark:text-gray-100\",children:new Date(test.completedAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-sm text-gray-900 dark:text-gray-100\",children:test.mode}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-sm font-medium text-primary-600\",children:test.wpm}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 text-sm font-medium text-green-600\",children:[test.accuracy,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-sm font-medium text-red-600\",children:test.errorsCount})]},test.id))})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"No tests completed yet. Start typing to see your results here!\"})})]})]})})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","userAPI","typingAPI","jsx","_jsx","jsxs","_jsxs","Profile","_user$username","user","userTests","setUserTests","userStats","setUserStats","loading","setLoading","loadProfileData","tests","stats","Promise","all","getUserTests","getUserStats","error","console","className","children","username","charAt","toUpperCase","email","averageWpm","averageAccuracy","testsCompleted","length","map","test","Date","completedAt","toLocaleDateString","mode","wpm","accuracy","errorsCount","id"],"sources":["C:/GitHub/TurboKeys/frontend/src/pages/Profile.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { userAPI, typingAPI } from '../services/api';\r\nimport { TypingTestResult } from '../types';\r\n\r\nconst Profile: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [userTests, setUserTests] = useState<TypingTestResult[]>([]);\r\n  const [userStats, setUserStats] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const loadProfileData = async () => {\r\n      try {\r\n        const [tests, stats] = await Promise.all([\r\n          typingAPI.getUserTests(10),\r\n          userAPI.getUserStats(),\r\n        ]);\r\n        setUserTests(tests);\r\n        setUserStats(stats);\r\n      } catch (error) {\r\n        console.error('Failed to load profile data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (user) {\r\n      loadProfileData();\r\n    }\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 py-8\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          {/* User Info */}\r\n          <div className=\"card p-6 mb-8\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                <span className=\"text-white text-xl font-bold\">\r\n                  {user?.username?.charAt(0).toUpperCase()}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n                  {user?.username}\r\n                </h1>\r\n                <p className=\"text-gray-600 dark:text-gray-400\">{user?.email}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats Overview */}\r\n          {userStats && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n              <div className=\"card p-6 text-center\">\r\n                <div className=\"text-3xl font-bold text-primary-600 mb-2\">\r\n                  {userStats.averageWpm || 0}\r\n                </div>\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Average WPM\r\n                </div>\r\n              </div>\r\n              <div className=\"card p-6 text-center\">\r\n                <div className=\"text-3xl font-bold text-green-600 mb-2\">\r\n                  {userStats.averageAccuracy || 0}%\r\n                </div>\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Average Accuracy\r\n                </div>\r\n              </div>\r\n              <div className=\"card p-6 text-center\">\r\n                <div className=\"text-3xl font-bold text-blue-600 mb-2\">\r\n                  {userStats.testsCompleted || 0}\r\n                </div>\r\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Tests Completed\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Recent Tests */}\r\n          <div className=\"card p-6\">\r\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4\">\r\n              Recent Tests\r\n            </h2>\r\n            {userTests.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-200 dark:border-gray-700\">\r\n                      <th className=\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        Date\r\n                      </th>\r\n                      <th className=\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        Mode\r\n                      </th>\r\n                      <th className=\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        WPM\r\n                      </th>\r\n                      <th className=\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        Accuracy\r\n                      </th>\r\n                      <th className=\"text-left py-2 text-sm font-medium text-gray-600 dark:text-gray-400\">\r\n                        Errors\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {userTests.map((test) => (\r\n                      <tr\r\n                        key={test.id}\r\n                        className=\"border-b border-gray-100 dark:border-gray-800\"\r\n                      >\r\n                        <td className=\"py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                          {new Date(test.completedAt).toLocaleDateString()}\r\n                        </td>\r\n                        <td className=\"py-3 text-sm text-gray-900 dark:text-gray-100\">\r\n                          {test.mode}\r\n                        </td>\r\n                        <td className=\"py-3 text-sm font-medium text-primary-600\">\r\n                          {test.wpm}\r\n                        </td>\r\n                        <td className=\"py-3 text-sm font-medium text-green-600\">\r\n                          {test.accuracy}%\r\n                        </td>\r\n                        <td className=\"py-3 text-sm font-medium text-red-600\">\r\n                          {test.errorsCount}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  No tests completed yet. Start typing to see your results here!\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,OAAO,CAAEC,SAAS,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGrD,KAAM,CAAAC,OAAiB,CAAGA,CAAA,GAAM,KAAAC,cAAA,CAC9B,KAAM,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACU,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAqB,EAAE,CAAC,CAClE,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAM,IAAI,CAAC,CACrD,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAACC,KAAK,CAAEC,KAAK,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CACvClB,SAAS,CAACmB,YAAY,CAAC,EAAE,CAAC,CAC1BpB,OAAO,CAACqB,YAAY,CAAC,CAAC,CACvB,CAAC,CACFX,YAAY,CAACM,KAAK,CAAC,CACnBJ,YAAY,CAACK,KAAK,CAAC,CACrB,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CAAC,OAAS,CACRR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAIN,IAAI,CAAE,CACRO,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACP,IAAI,CAAC,CAAC,CAEV,GAAIK,OAAO,CAAE,CACX,mBACEV,IAAA,QAAKqB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DtB,IAAA,QAAKqB,SAAS,CAAC,mEAAmE,CAAM,CAAC,CACtF,CAAC,CAEV,CAEA,mBACErB,IAAA,QAAKqB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DtB,IAAA,QAAKqB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCpB,KAAA,QAAKmB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAEhCtB,IAAA,QAAKqB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BpB,KAAA,QAAKmB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CtB,IAAA,QAAKqB,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACrFtB,IAAA,SAAMqB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAC3CjB,IAAI,SAAJA,IAAI,kBAAAD,cAAA,CAAJC,IAAI,CAAEkB,QAAQ,UAAAnB,cAAA,iBAAdA,cAAA,CAAgBoB,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACpC,CAAC,CACJ,CAAC,cACNvB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAIqB,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAChEjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,QAAQ,CACb,CAAC,cACLvB,IAAA,MAAGqB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqB,KAAK,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,CACH,CAAC,CAGLlB,SAAS,eACRN,KAAA,QAAKmB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzDpB,KAAA,QAAKmB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCtB,IAAA,QAAKqB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CACtDd,SAAS,CAACmB,UAAU,EAAI,CAAC,CACvB,CAAC,cACN3B,IAAA,QAAKqB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,aAE1D,CAAK,CAAC,EACH,CAAC,cACNpB,KAAA,QAAKmB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCpB,KAAA,QAAKmB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EACpDd,SAAS,CAACoB,eAAe,EAAI,CAAC,CAAC,GAClC,EAAK,CAAC,cACN5B,IAAA,QAAKqB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,kBAE1D,CAAK,CAAC,EACH,CAAC,cACNpB,KAAA,QAAKmB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCtB,IAAA,QAAKqB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnDd,SAAS,CAACqB,cAAc,EAAI,CAAC,CAC3B,CAAC,cACN7B,IAAA,QAAKqB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,iBAE1D,CAAK,CAAC,EACH,CAAC,EACH,CACN,cAGDpB,KAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtB,IAAA,OAAIqB,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CAAC,cAExE,CAAI,CAAC,CACJhB,SAAS,CAACwB,MAAM,CAAG,CAAC,cACnB9B,IAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BpB,KAAA,UAAOmB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACvBtB,IAAA,UAAAsB,QAAA,cACEpB,KAAA,OAAImB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC3DtB,IAAA,OAAIqB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,MAEpF,CAAI,CAAC,cACLtB,IAAA,OAAIqB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,MAEpF,CAAI,CAAC,cACLtB,IAAA,OAAIqB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,KAEpF,CAAI,CAAC,cACLtB,IAAA,OAAIqB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,UAEpF,CAAI,CAAC,cACLtB,IAAA,OAAIqB,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,QAEpF,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CACGhB,SAAS,CAACyB,GAAG,CAAEC,IAAI,eAClB9B,KAAA,OAEEmB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAEzDtB,IAAA,OAAIqB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1D,GAAI,CAAAW,IAAI,CAACD,IAAI,CAACE,WAAW,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAC9C,CAAC,cACLnC,IAAA,OAAIqB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAC1DU,IAAI,CAACI,IAAI,CACR,CAAC,cACLpC,IAAA,OAAIqB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CACtDU,IAAI,CAACK,GAAG,CACP,CAAC,cACLnC,KAAA,OAAImB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,EACpDU,IAAI,CAACM,QAAQ,CAAC,GACjB,EAAI,CAAC,cACLtC,IAAA,OAAIqB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAClDU,IAAI,CAACO,WAAW,CACf,CAAC,GAjBAP,IAAI,CAACQ,EAkBR,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,cAENxC,IAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BtB,IAAA,MAAGqB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,gEAEhD,CAAG,CAAC,CACD,CACN,EACE,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}