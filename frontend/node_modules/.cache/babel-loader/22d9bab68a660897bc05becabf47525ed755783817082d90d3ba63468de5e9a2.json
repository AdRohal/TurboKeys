{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useAuth}from'../contexts/AuthContext';import{typingAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const History=()=>{const{user}=useAuth();const[history,setHistory]=useState([]);const[loading,setLoading]=useState(true);const[sortBy,setSortBy]=useState('date');const[sortOrder,setSortOrder]=useState('desc');const[selectedDuration,setSelectedDuration]=useState(null);const[selectedMode,setSelectedMode]=useState('');const[totalTests,setTotalTests]=useState(0);useEffect(()=>{const loadHistory=async()=>{if(!user)return;try{setLoading(true);const response=await typingAPI.getHistory(1,100,// Get more records since we'll scroll through them \nselectedDuration||undefined,selectedMode||undefined,'english');setHistory(response.tests);setTotalTests(response.total);}catch(error){console.error('Failed to load typing history:',error);// Fallback to empty array if API fails\nsetHistory([]);}finally{setLoading(false);}};loadHistory();},[user,selectedDuration,selectedMode]);const sortedHistory=[...history].sort((a,b)=>{let aValue,bValue;switch(sortBy){case'date':aValue=new Date(a.completedAt).getTime();bValue=new Date(b.completedAt).getTime();break;case'wpm':aValue=a.wpm;bValue=b.wpm;break;case'accuracy':aValue=a.accuracy;bValue=b.accuracy;break;default:aValue=new Date(a.completedAt).getTime();bValue=new Date(b.completedAt).getTime();}return sortOrder==='asc'?aValue-bValue:bValue-aValue;});const handleSort=field=>{if(sortBy===field){setSortOrder(sortOrder==='asc'?'desc':'asc');}else{setSortBy(field);setSortOrder('desc');}};const durationOptions=[15,30,60,120];const modeOptions=['time','words'];const handleDurationFilter=duration=>{setSelectedDuration(duration);};const handleModeFilter=mode=>{setSelectedMode(mode);};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-4\",children:\"Please log in to view your typing history\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:\"You need to be logged in to access your typing test history.\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"h-[90vh] bg-gray-50 dark:bg-primary-900 py-8 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 h-full flex flex-col\",children:[\"          \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-primary-800 rounded-lg shadow-lg p-6 flex-1 flex flex-col overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Typing History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-300\",children:[\"Total Tests: \",totalTests]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Duration:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDuration||'',onChange:e=>handleDurationFilter(e.target.value?parseInt(e.target.value):null),className:\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Durations\"}),durationOptions.map(duration=>/*#__PURE__*/_jsxs(\"option\",{value:duration,children:[duration,\"s\"]},duration))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Mode:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedMode,onChange:e=>handleModeFilter(e.target.value),className:\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Modes\"}),modeOptions.map(mode=>/*#__PURE__*/_jsx(\"option\",{value:mode,children:mode},mode))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>handleSort(e.target.value),className:\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"Sort by Date\"}),/*#__PURE__*/_jsx(\"option\",{value:\"wpm\",children:\"Sort by WPM\"}),/*#__PURE__*/_jsx(\"option\",{value:\"accuracy\",children:\"Sort by Accuracy\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortOrder(sortOrder==='asc'?'desc':'asc'),className:\"px-3 py-2 bg-gray-200 dark:bg-primary-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-primary-600 transition-colors\",children:sortOrder==='asc'?'↑':'↓'})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"})}):history.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 dark:text-gray-400 text-lg\",children:\"No typing tests completed yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 dark:text-gray-500 mt-2\",children:\"Start typing to see your history here!\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto overflow-y-auto\",style:{maxHeight:'450px'},children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full table-auto\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"sticky top-0 bg-gray-50 dark:bg-primary-700 z-10\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"WPM\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Accuracy\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Characters\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Errors\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Mode\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\",children:\"Duration\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedHistory.map(test=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-primary-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-900 dark:text-white\",children:new Date(test.completedAt).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-blue-600 dark:text-blue-400\",children:test.wpm})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-600 dark:text-green-400\",children:[test.accuracy,\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-gray-900 dark:text-white\",children:test.charactersTyped}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-red-600 dark:text-red-400\",children:test.errorsCount})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm capitalize\",children:test.mode})}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4 text-gray-900 dark:text-white\",children:[test.duration,\"s\"]})]},test.id))})]})})}),history.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Summary Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600 dark:text-blue-400\",children:history.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 dark:text-blue-400\",children:\"Total Tests\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600 dark:text-green-400\",children:Math.round(history.reduce((sum,test)=>sum+test.wpm,0)/history.length)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600 dark:text-green-400\",children:\"Average WPM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-purple-600 dark:text-purple-400\",children:[Math.round(history.reduce((sum,test)=>sum+test.accuracy,0)/history.length),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-600 dark:text-purple-400\",children:\"Average Accuracy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-orange-600 dark:text-orange-400\",children:Math.max(...history.map(test=>test.wpm))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-orange-600 dark:text-orange-400\",children:\"Best WPM\"})]})]})]})]})]})});};export default History;","map":{"version":3,"names":["React","useState","useEffect","useAuth","typingAPI","jsx","_jsx","jsxs","_jsxs","History","user","history","setHistory","loading","setLoading","sortBy","setSortBy","sortOrder","setSortOrder","selectedDuration","setSelectedDuration","selectedMode","setSelectedMode","totalTests","setTotalTests","loadHistory","response","getHistory","undefined","tests","total","error","console","sortedHistory","sort","a","b","aValue","bValue","Date","completedAt","getTime","wpm","accuracy","handleSort","field","durationOptions","modeOptions","handleDurationFilter","duration","handleModeFilter","mode","className","children","value","onChange","e","target","parseInt","map","onClick","length","style","maxHeight","test","toLocaleDateString","month","day","year","charactersTyped","errorsCount","id","Math","round","reduce","sum","max"],"sources":["C:/GitHub/TurboKeys/frontend/src/pages/History.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { typingAPI } from '../services/api';\r\nimport { TypingTestResult } from '../types';\r\n\r\nconst History: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [history, setHistory] = useState<TypingTestResult[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [sortBy, setSortBy] = useState<'date' | 'wpm' | 'accuracy'>('date');\r\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc');\r\n  const [selectedDuration, setSelectedDuration] = useState<number | null>(null);\r\n  const [selectedMode, setSelectedMode] = useState<string>('');\r\n  const [totalTests, setTotalTests] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const loadHistory = async () => {\r\n      if (!user) return;\r\n      \r\n      try {\r\n        setLoading(true);\r\n        const response = await typingAPI.getHistory(\r\n          1, \r\n          100, // Get more records since we'll scroll through them \r\n          selectedDuration || undefined, \r\n          selectedMode || undefined, \r\n          'english'\r\n        );\r\n        setHistory(response.tests);\r\n        setTotalTests(response.total);\r\n      } catch (error) {\r\n        console.error('Failed to load typing history:', error);\r\n        // Fallback to empty array if API fails\r\n        setHistory([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadHistory();\r\n  }, [user, selectedDuration, selectedMode]);\r\n\r\n  const sortedHistory = [...history].sort((a, b) => {\r\n    let aValue, bValue;\r\n    \r\n    switch (sortBy) {\r\n      case 'date':\r\n        aValue = new Date(a.completedAt).getTime();\r\n        bValue = new Date(b.completedAt).getTime();\r\n        break;\r\n      case 'wpm':\r\n        aValue = a.wpm;\r\n        bValue = b.wpm;\r\n        break;\r\n      case 'accuracy':\r\n        aValue = a.accuracy;\r\n        bValue = b.accuracy;\r\n        break;\r\n      default:\r\n        aValue = new Date(a.completedAt).getTime();\r\n        bValue = new Date(b.completedAt).getTime();\r\n    }\r\n    \r\n    return sortOrder === 'asc' ? aValue - bValue : bValue - aValue;\r\n  });\r\n\r\n  const handleSort = (field: 'date' | 'wpm' | 'accuracy') => {\r\n    if (sortBy === field) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(field);\r\n      setSortOrder('desc');\r\n    }\r\n  };\r\n\r\n  const durationOptions = [15, 30, 60, 120];\r\n  const modeOptions = ['time', 'words'];\r\n\r\n  const handleDurationFilter = (duration: number | null) => {\r\n    setSelectedDuration(duration);\r\n  };\r\n\r\n  const handleModeFilter = (mode: string) => {\r\n    setSelectedMode(mode);\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\r\n            Please log in to view your typing history\r\n          </h2>\r\n          <p className=\"text-gray-600 dark:text-gray-300\">\r\n            You need to be logged in to access your typing test history.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-[90vh] bg-gray-50 dark:bg-primary-900 py-8 overflow-hidden\">\r\n      <div className=\"max-w-6xl mx-auto px-4 h-full flex flex-col\">          <div className=\"bg-white dark:bg-primary-800 rounded-lg shadow-lg p-6 flex-1 flex flex-col overflow-hidden\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\r\n                Typing History\r\n              </h1>\r\n              \r\n              <div className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                Total Tests: {totalTests}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Filter Controls */}\r\n            <div className=\"mb-6 space-y-4\">\r\n              <div className=\"flex flex-wrap items-center gap-4\">\r\n                {/* Duration Filter */}\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                    Duration:\r\n                  </label>\r\n                  <select\r\n                    value={selectedDuration || ''}\r\n                    onChange={(e) => handleDurationFilter(e.target.value ? parseInt(e.target.value) : null)}\r\n                    className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">All Durations</option>\r\n                    {durationOptions.map(duration => (\r\n                      <option key={duration} value={duration}>{duration}s</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Mode Filter */}\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                    Mode:\r\n                  </label>\r\n                  <select\r\n                    value={selectedMode}\r\n                    onChange={(e) => handleModeFilter(e.target.value)}\r\n                    className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"\">All Modes</option>\r\n                    {modeOptions.map(mode => (\r\n                      <option key={mode} value={mode}>{mode}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Sort Controls */}\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <select\r\n                    value={sortBy}\r\n                    onChange={(e) => handleSort(e.target.value as 'date' | 'wpm' | 'accuracy')}\r\n                    className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-primary-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  >\r\n                    <option value=\"date\">Sort by Date</option>\r\n                    <option value=\"wpm\">Sort by WPM</option>\r\n                    <option value=\"accuracy\">Sort by Accuracy</option>\r\n                  </select>\r\n                  \r\n                  <button\r\n                    onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\r\n                    className=\"px-3 py-2 bg-gray-200 dark:bg-primary-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-primary-600 transition-colors\"\r\n                  >\r\n                    {sortOrder === 'asc' ? '↑' : '↓'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n            </div>\r\n          ) : history.length === 0 ? (\r\n            <div className=\"text-center py-12\">\r\n              <div className=\"text-gray-500 dark:text-gray-400 text-lg\">\r\n                No typing tests completed yet\r\n              </div>\r\n              <p className=\"text-gray-400 dark:text-gray-500 mt-2\">\r\n                Start typing to see your history here!\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex-1 overflow-hidden flex flex-col\">\r\n              <div className=\"overflow-x-auto overflow-y-auto\" style={{ maxHeight: '450px' }}>\r\n                <table className=\"w-full table-auto\">\r\n                <thead className=\"sticky top-0 bg-gray-50 dark:bg-primary-700 z-10\">\r\n                  <tr className=\"border-b border-gray-200 dark:border-gray-600\">\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Date\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      WPM\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Accuracy\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Characters\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Errors\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Mode\r\n                    </th>\r\n                    <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">\r\n                      Duration\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {sortedHistory.map((test) => (\r\n                    <tr\r\n                      key={test.id}\r\n                      className=\"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-primary-700 transition-colors\"\r\n                    >\r\n                      <td className=\"py-3 px-4 text-gray-900 dark:text-white\">\r\n                        {new Date(test.completedAt).toLocaleDateString('en-US', {\r\n                          month: 'short',\r\n                          day: 'numeric',\r\n                          year: 'numeric',\r\n                        })}\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span className=\"font-semibold text-blue-600 dark:text-blue-400\">\r\n                          {test.wpm}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span className=\"font-semibold text-green-600 dark:text-green-400\">\r\n                          {test.accuracy}%\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-gray-900 dark:text-white\">\r\n                        {test.charactersTyped}\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span className=\"font-semibold text-red-600 dark:text-red-400\">\r\n                          {test.errorsCount}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span className=\"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm capitalize\">\r\n                          {test.mode}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4 text-gray-900 dark:text-white\">\r\n                        {test.duration}s\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {/* Statistics Summary */}\r\n          {history.length > 0 && (\r\n            <div className=\"mt-8 pt-6 border-t border-gray-200 dark:border-gray-600\">\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                Summary Statistics\r\n              </h2>\r\n              \r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\">\r\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                    {history.length}\r\n                  </div>\r\n                  <div className=\"text-sm text-blue-600 dark:text-blue-400\">\r\n                    Total Tests\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\r\n                    {Math.round(history.reduce((sum, test) => sum + test.wpm, 0) / history.length)}\r\n                  </div>\r\n                  <div className=\"text-sm text-green-600 dark:text-green-400\">\r\n                    Average WPM\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\r\n                    {Math.round(history.reduce((sum, test) => sum + test.accuracy, 0) / history.length)}%\r\n                  </div>\r\n                  <div className=\"text-sm text-purple-600 dark:text-purple-400\">\r\n                    Average Accuracy\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg\">\r\n                  <div className=\"text-2xl font-bold text-orange-600 dark:text-orange-400\">\r\n                    {Math.max(...history.map(test => test.wpm))}\r\n                  </div>\r\n                  <div className=\"text-sm text-orange-600 dark:text-orange-400\">\r\n                    Best WPM\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,SAAS,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG5C,KAAM,CAAAC,OAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAEC,IAAK,CAAC,CAAGP,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAqB,EAAE,CAAC,CAC9D,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAA8B,MAAM,CAAC,CACzE,KAAM,CAACgB,SAAS,CAAEC,YAAY,CAAC,CAAGjB,QAAQ,CAAiB,MAAM,CAAC,CAClE,KAAM,CAACkB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnB,QAAQ,CAAgB,IAAI,CAAC,CAC7E,KAAM,CAACoB,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAS,EAAE,CAAC,CAC5D,KAAM,CAACsB,UAAU,CAAEC,aAAa,CAAC,CAAGvB,QAAQ,CAAC,CAAC,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAACf,IAAI,CAAE,OAEX,GAAI,CACFI,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAtB,SAAS,CAACuB,UAAU,CACzC,CAAC,CACD,GAAG,CAAE;AACLR,gBAAgB,EAAIS,SAAS,CAC7BP,YAAY,EAAIO,SAAS,CACzB,SACF,CAAC,CACDhB,UAAU,CAACc,QAAQ,CAACG,KAAK,CAAC,CAC1BL,aAAa,CAACE,QAAQ,CAACI,KAAK,CAAC,CAC/B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtD;AACAnB,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDW,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACf,IAAI,CAAES,gBAAgB,CAAEE,YAAY,CAAC,CAAC,CAE1C,KAAM,CAAAY,aAAa,CAAG,CAAC,GAAGtB,OAAO,CAAC,CAACuB,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAChD,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAElB,OAAQvB,MAAM,EACZ,IAAK,MAAM,CACTsB,MAAM,CAAG,GAAI,CAAAE,IAAI,CAACJ,CAAC,CAACK,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAC1CH,MAAM,CAAG,GAAI,CAAAC,IAAI,CAACH,CAAC,CAACI,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAC1C,MACF,IAAK,KAAK,CACRJ,MAAM,CAAGF,CAAC,CAACO,GAAG,CACdJ,MAAM,CAAGF,CAAC,CAACM,GAAG,CACd,MACF,IAAK,UAAU,CACbL,MAAM,CAAGF,CAAC,CAACQ,QAAQ,CACnBL,MAAM,CAAGF,CAAC,CAACO,QAAQ,CACnB,MACF,QACEN,MAAM,CAAG,GAAI,CAAAE,IAAI,CAACJ,CAAC,CAACK,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAC1CH,MAAM,CAAG,GAAI,CAAAC,IAAI,CAACH,CAAC,CAACI,WAAW,CAAC,CAACC,OAAO,CAAC,CAAC,CAC9C,CAEA,MAAO,CAAAxB,SAAS,GAAK,KAAK,CAAGoB,MAAM,CAAGC,MAAM,CAAGA,MAAM,CAAGD,MAAM,CAChE,CAAC,CAAC,CAEF,KAAM,CAAAO,UAAU,CAAIC,KAAkC,EAAK,CACzD,GAAI9B,MAAM,GAAK8B,KAAK,CAAE,CACpB3B,YAAY,CAACD,SAAS,GAAK,KAAK,CAAG,MAAM,CAAG,KAAK,CAAC,CACpD,CAAC,IAAM,CACLD,SAAS,CAAC6B,KAAK,CAAC,CAChB3B,YAAY,CAAC,MAAM,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA4B,eAAe,CAAG,CAAC,EAAE,CAAE,EAAE,CAAE,EAAE,CAAE,GAAG,CAAC,CACzC,KAAM,CAAAC,WAAW,CAAG,CAAC,MAAM,CAAE,OAAO,CAAC,CAErC,KAAM,CAAAC,oBAAoB,CAAIC,QAAuB,EAAK,CACxD7B,mBAAmB,CAAC6B,QAAQ,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,IAAY,EAAK,CACzC7B,eAAe,CAAC6B,IAAI,CAAC,CACvB,CAAC,CAED,GAAI,CAACzC,IAAI,CAAE,CACT,mBACEJ,IAAA,QAAK8C,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5D7C,KAAA,QAAK4C,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B/C,IAAA,OAAI8C,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAC,2CAEtE,CAAI,CAAC,cACL/C,IAAA,MAAG8C,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,8DAEhD,CAAG,CAAC,EACD,CAAC,CACH,CAAC,CAEV,CAEA,mBACE/C,IAAA,QAAK8C,SAAS,CAAC,8DAA8D,CAAAC,QAAA,cAC3E7C,KAAA,QAAK4C,SAAS,CAAC,6CAA6C,CAAAC,QAAA,EAAC,YAAU,cAAA7C,KAAA,QAAK4C,SAAS,CAAC,4FAA4F,CAAAC,QAAA,eAC5K7C,KAAA,QAAK4C,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD/C,IAAA,OAAI8C,SAAS,CAAC,kDAAkD,CAAAC,QAAA,CAAC,gBAEjE,CAAI,CAAC,cAEL7C,KAAA,QAAK4C,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EAAC,eAC3C,CAAC9B,UAAU,EACrB,CAAC,EACH,CAAC,cAGNjB,IAAA,QAAK8C,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B7C,KAAA,QAAK4C,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAEhD7C,KAAA,QAAK4C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/C,IAAA,UAAO8C,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,WAExE,CAAO,CAAC,cACR7C,KAAA,WACE8C,KAAK,CAAEnC,gBAAgB,EAAI,EAAG,CAC9BoC,QAAQ,CAAGC,CAAC,EAAKR,oBAAoB,CAACQ,CAAC,CAACC,MAAM,CAACH,KAAK,CAAGI,QAAQ,CAACF,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAG,IAAI,CAAE,CACxFF,SAAS,CAAC,iLAAiL,CAAAC,QAAA,eAE3L/C,IAAA,WAAQgD,KAAK,CAAC,EAAE,CAAAD,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtCP,eAAe,CAACa,GAAG,CAACV,QAAQ,eAC3BzC,KAAA,WAAuB8C,KAAK,CAAEL,QAAS,CAAAI,QAAA,EAAEJ,QAAQ,CAAC,GAAC,GAAtCA,QAA8C,CAC5D,CAAC,EACI,CAAC,EACN,CAAC,cAGNzC,KAAA,QAAK4C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C/C,IAAA,UAAO8C,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAAC,OAExE,CAAO,CAAC,cACR7C,KAAA,WACE8C,KAAK,CAAEjC,YAAa,CACpBkC,QAAQ,CAAGC,CAAC,EAAKN,gBAAgB,CAACM,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClDF,SAAS,CAAC,iLAAiL,CAAAC,QAAA,eAE3L/C,IAAA,WAAQgD,KAAK,CAAC,EAAE,CAAAD,QAAA,CAAC,WAAS,CAAQ,CAAC,CAClCN,WAAW,CAACY,GAAG,CAACR,IAAI,eACnB7C,IAAA,WAAmBgD,KAAK,CAAEH,IAAK,CAAAE,QAAA,CAAEF,IAAI,EAAxBA,IAAiC,CAC/C,CAAC,EACI,CAAC,EACN,CAAC,cAGN3C,KAAA,QAAK4C,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C7C,KAAA,WACE8C,KAAK,CAAEvC,MAAO,CACdwC,QAAQ,CAAGC,CAAC,EAAKZ,UAAU,CAACY,CAAC,CAACC,MAAM,CAACH,KAAoC,CAAE,CAC3EF,SAAS,CAAC,iLAAiL,CAAAC,QAAA,eAE3L/C,IAAA,WAAQgD,KAAK,CAAC,MAAM,CAAAD,QAAA,CAAC,cAAY,CAAQ,CAAC,cAC1C/C,IAAA,WAAQgD,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAC,aAAW,CAAQ,CAAC,cACxC/C,IAAA,WAAQgD,KAAK,CAAC,UAAU,CAAAD,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAC5C,CAAC,cAET/C,IAAA,WACEsD,OAAO,CAAEA,CAAA,GAAM1C,YAAY,CAACD,SAAS,GAAK,KAAK,CAAG,MAAM,CAAG,KAAK,CAAE,CAClEmC,SAAS,CAAC,qJAAqJ,CAAAC,QAAA,CAE9JpC,SAAS,GAAK,KAAK,CAAG,GAAG,CAAG,GAAG,CAC1B,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CAEPJ,OAAO,cACNP,IAAA,QAAK8C,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD/C,IAAA,QAAK8C,SAAS,CAAC,gEAAgE,CAAM,CAAC,CACnF,CAAC,CACJzC,OAAO,CAACkD,MAAM,GAAK,CAAC,cACtBrD,KAAA,QAAK4C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC/C,IAAA,QAAK8C,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,+BAE1D,CAAK,CAAC,cACN/C,IAAA,MAAG8C,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,wCAErD,CAAG,CAAC,EACD,CAAC,cAEN/C,IAAA,QAAK8C,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACnD/C,IAAA,QAAK8C,SAAS,CAAC,iCAAiC,CAACU,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAAV,QAAA,cAC7E7C,KAAA,UAAO4C,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eACpC/C,IAAA,UAAO8C,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cACjE7C,KAAA,OAAI4C,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC3D/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,MAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,KAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,UAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,YAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,QAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,MAEhF,CAAI,CAAC,cACL/C,IAAA,OAAI8C,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAAC,UAEhF,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACR/C,IAAA,UAAA+C,QAAA,CACGpB,aAAa,CAAC0B,GAAG,CAAEK,IAAI,eACtBxD,KAAA,OAEE4C,SAAS,CAAC,4GAA4G,CAAAC,QAAA,eAEtH/C,IAAA,OAAI8C,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpD,GAAI,CAAAd,IAAI,CAACyB,IAAI,CAACxB,WAAW,CAAC,CAACyB,kBAAkB,CAAC,OAAO,CAAE,CACtDC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SACR,CAAC,CAAC,CACA,CAAC,cACL9D,IAAA,OAAI8C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvB/C,IAAA,SAAM8C,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC7DW,IAAI,CAACtB,GAAG,CACL,CAAC,CACL,CAAC,cACLpC,IAAA,OAAI8C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvB7C,KAAA,SAAM4C,SAAS,CAAC,kDAAkD,CAAAC,QAAA,EAC/DW,IAAI,CAACrB,QAAQ,CAAC,GACjB,EAAM,CAAC,CACL,CAAC,cACLrC,IAAA,OAAI8C,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpDW,IAAI,CAACK,eAAe,CACnB,CAAC,cACL/D,IAAA,OAAI8C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvB/C,IAAA,SAAM8C,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAC3DW,IAAI,CAACM,WAAW,CACb,CAAC,CACL,CAAC,cACLhE,IAAA,OAAI8C,SAAS,CAAC,WAAW,CAAAC,QAAA,cACvB/C,IAAA,SAAM8C,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CACtHW,IAAI,CAACb,IAAI,CACN,CAAC,CACL,CAAC,cACL3C,KAAA,OAAI4C,SAAS,CAAC,yCAAyC,CAAAC,QAAA,EACpDW,IAAI,CAACf,QAAQ,CAAC,GACjB,EAAI,CAAC,GAnCAe,IAAI,CAACO,EAoCR,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACH,CAAC,CACH,CACN,CAGA5D,OAAO,CAACkD,MAAM,CAAG,CAAC,eACjBrD,KAAA,QAAK4C,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtE/C,IAAA,OAAI8C,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,oBAEzE,CAAI,CAAC,cAEL7C,KAAA,QAAK4C,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE7C,KAAA,QAAK4C,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5D/C,IAAA,QAAK8C,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CACjE1C,OAAO,CAACkD,MAAM,CACZ,CAAC,cACNvD,IAAA,QAAK8C,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,aAE1D,CAAK,CAAC,EACH,CAAC,cAEN7C,KAAA,QAAK4C,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D/C,IAAA,QAAK8C,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CACnEmB,IAAI,CAACC,KAAK,CAAC9D,OAAO,CAAC+D,MAAM,CAAC,CAACC,GAAG,CAAEX,IAAI,GAAKW,GAAG,CAAGX,IAAI,CAACtB,GAAG,CAAE,CAAC,CAAC,CAAG/B,OAAO,CAACkD,MAAM,CAAC,CAC3E,CAAC,cACNvD,IAAA,QAAK8C,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,aAE5D,CAAK,CAAC,EACH,CAAC,cAEN7C,KAAA,QAAK4C,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE7C,KAAA,QAAK4C,SAAS,CAAC,yDAAyD,CAAAC,QAAA,EACrEmB,IAAI,CAACC,KAAK,CAAC9D,OAAO,CAAC+D,MAAM,CAAC,CAACC,GAAG,CAAEX,IAAI,GAAKW,GAAG,CAAGX,IAAI,CAACrB,QAAQ,CAAE,CAAC,CAAC,CAAGhC,OAAO,CAACkD,MAAM,CAAC,CAAC,GACtF,EAAK,CAAC,cACNvD,IAAA,QAAK8C,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,kBAE9D,CAAK,CAAC,EACH,CAAC,cAEN7C,KAAA,QAAK4C,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE/C,IAAA,QAAK8C,SAAS,CAAC,yDAAyD,CAAAC,QAAA,CACrEmB,IAAI,CAACI,GAAG,CAAC,GAAGjE,OAAO,CAACgD,GAAG,CAACK,IAAI,EAAIA,IAAI,CAACtB,GAAG,CAAC,CAAC,CACxC,CAAC,cACNpC,IAAA,QAAK8C,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAE9D,CAAK,CAAC,EACH,CAAC,EACH,CAAC,EACH,CACN,EACE,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5C,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}